.link {
  display: inline-flex;
  text-decoration: none;
}

.wrap {
  --logoColor: #1f2937;
  --accent: #ff3ea5;
  --dur: 5s;

  position: relative;
  display: inline-flex;
  align-items: baseline;
  line-height: 1;
  letter-spacing: -0.04em;
  font-weight: 900;
  color: var(--logoColor);
  user-select: none;
  -webkit-font-smoothing: antialiased;
}

/* Single stable container - fixed typography, stable width */
.container {
  position: relative;
  display: inline-flex;
  align-items: baseline;
  font-size: clamp(28px, 3.2vw, 54px);
  font-weight: 900;
  line-height: 1;
  letter-spacing: -0.04em;
  /* Lock width to prevent layout shift - approximate width of MERKEZDEN.COM */
  min-width: 9.5ch;
}

/* Constant M - never moves, never changes */
.letterM {
  display: inline-block;
  font-size: inherit;
  font-weight: inherit;
  line-height: inherit;
  letter-spacing: inherit;
}

/* ERKEZDEN reveal group */
.wordRest {
  position: relative;
  display: inline-block;
  overflow: hidden;
}

.wordMask {
  display: inline-block;
  font-size: inherit;
  font-weight: inherit;
  line-height: inherit;
  letter-spacing: inherit;
  clip-path: inset(0 100% 0 0);
  animation: wordReveal var(--dur) cubic-bezier(0.4, 0, 0.2, 1) infinite;
}

/* Monogram dot - visible in M. phase */
.monogramDot {
  display: inline-block;
  font-size: inherit;
  font-weight: inherit;
  line-height: inherit;
  letter-spacing: inherit;
  margin: 0 0.10em;
  animation: monogramDotFlow var(--dur) cubic-bezier(0.4, 0, 0.2, 1) infinite;
}

/* Dot + pink accent */
.dotWrap {
  position: relative;
  display: inline-flex;
  align-items: center;
  margin: 0 0.10em;
  animation: dotWrapFlow var(--dur) cubic-bezier(0.4, 0, 0.2, 1) infinite;
}

.dot {
  width: 0.22em;
  height: 0.22em;
  border-radius: 999px;
  background: var(--logoColor);
  display: block;
}

.pinkAccent {
  position: absolute;
  left: 50%;
  top: 170%;
  width: 0.10em;
  height: 0.10em;
  transform: translateX(-50%);
  background: var(--accent);
  border-radius: 2px;
  animation: pinkAccentFlow var(--dur) ease-in-out infinite;
}

/* COM suffix */
.suffix {
  display: inline-block;
  font-size: inherit;
  font-weight: inherit;
  line-height: inherit;
  letter-spacing: inherit;
  animation: suffixFlow var(--dur) cubic-bezier(0.4, 0, 0.2, 1) infinite;
}

/* Monogram sparkle - decorative */
.monogramSparkle {
  position: absolute;
  left: 0.45em;
  top: -0.15em;
  width: 0.4em;
  height: 0.4em;
  fill: var(--logoColor);
  opacity: 0;
  animation: sparkleFlow var(--dur) ease-in-out infinite;
}

/* Loop control */
.wrap[data-loop="false"] .wordMask,
.wrap[data-loop="false"] .monogramDot,
.wrap[data-loop="false"] .dotWrap,
.wrap[data-loop="false"] .pinkAccent,
.wrap[data-loop="false"] .suffix,
.wrap[data-loop="false"] .monogramSparkle {
  animation-iteration-count: 1;
}

/* Reduced motion */
@media (prefers-reduced-motion: reduce) {
  .wordMask,
  .monogramDot,
  .dotWrap,
  .pinkAccent,
  .suffix,
  .monogramSparkle {
    animation: none !important;
  }
  .wordMask { clip-path: inset(0 0% 0 0) !important; }
  .monogramDot { opacity: 0 !important; }
  .pinkAccent { opacity: 1 !important; }
  .monogramSparkle { opacity: 0 !important; }
}

/* ---- Keyframes ---- */

/* Phase 1: Full MERKEZDEN.COM (0-12%) */
/* Phase 2: Hide .COM, show M. (12-18%) */
/* Phase 3: Reveal ERKEZDEN with smooth wipe (18-50%) */
/* Phase 4: Bring back .COM and dot (50-68%) */
/* Phase 5: Full MERKEZDEN.COM (68-100%) */

@keyframes wordReveal {
  /* 0-12%: Full wordmark visible */
  0%   { clip-path: inset(0 0% 0 0); }
  12%  { clip-path: inset(0 0% 0 0); }
  /* 12-18%: Hide ERKEZDEN (M. phase) */
  18%  { clip-path: inset(0 100% 0 0); }
  /* 18-50%: Smooth wipe reveal ERKEZDEN (Netflix-like) */
  50%  { clip-path: inset(0 0% 0 0); }
  /* 50-68%: Stay visible */
  68%  { clip-path: inset(0 0% 0 0); }
  /* 68-100%: Full wordmark visible */
  100% { clip-path: inset(0 0% 0 0); }
}

@keyframes monogramDotFlow {
  /* 0-12%: Hidden (full wordmark) */
  0%   { opacity: 0; }
  12%  { opacity: 0; }
  /* 12-18%: Fade in for M. phase */
  18%  { opacity: 1; }
  /* 18-50%: Visible during ERKEZDEN reveal */
  50%  { opacity: 1; }
  /* 50-68%: Fade out as full logo returns */
  68%  { opacity: 0; }
  100% { opacity: 0; }
}

@keyframes suffixFlow {
  /* 0-12%: Full wordmark visible */
  0%   { opacity: 1; }
  12%  { opacity: 1; }
  /* 12-18%: Quick fade out for M. phase */
  18%  { opacity: 0; }
  /* 18-50%: Hidden (M + ERKEZDEN reveal) */
  50%  { opacity: 0; }
  /* 50-68%: Fade back in for full logo */
  68%  { opacity: 1; }
  100% { opacity: 1; }
}

@keyframes dotWrapFlow {
  /* 0-12%: Full wordmark visible */
  0%   { opacity: 1; }
  12%  { opacity: 1; }
  /* 12-18%: Quick fade out for M. phase */
  18%  { opacity: 0; }
  /* 18-50%: Hidden (M + ERKEZDEN reveal) */
  50%  { opacity: 0; }
  /* 50-68%: Fade back in for full logo */
  68%  { opacity: 1; }
  100% { opacity: 1; }
}

@keyframes pinkAccentFlow {
  /* 0-12%: Full wordmark visible */
  0%   { opacity: 1; }
  12%  { opacity: 1; }
  /* 12-18%: Quick fade out for M. phase */
  18%  { opacity: 0; }
  /* 18-50%: Hidden (M + ERKEZDEN reveal) */
  50%  { opacity: 0; }
  /* 50-68%: Fade back in for full logo */
  68%  { opacity: 1; }
  100% { opacity: 1; }
}

@keyframes sparkleFlow {
  /* Sparkle appears during M. phase */
  0%   { opacity: 0; }
  12%  { opacity: 0; }
  18%  { opacity: 1; }
  28%  { opacity: 0.9; }
  38%  { opacity: 0; }
  100% { opacity: 0; }
}
